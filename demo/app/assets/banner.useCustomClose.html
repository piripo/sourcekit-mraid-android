<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<script src="mraid.js"></script>
	<style type="text/css">

	* {
		margin: 0;
		padding: 0;
		border: 0;
		outline: 0;
		vertical-align: baseline;
		background: transparent;
		overflow:hidden;
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-webkit-text-size-adjust: none;
	}

	html,body {
		height: 100%;
	}

	div {
		width:100%;
		min-height:100%;
		display:none;
		text-align: center;
	}

	#default {
		background-color:red;
	}

	#expanded {
		background-color:blue;
	}

	</style>
</head>

<body>

	<div id="default" onclick="expand()">
		Click to expand.
	</div>

	<div id="expanded"  onclick="collapse()">
		This is the expanded view.<br/>Click anywhere to close.
	</div>

	<script>
	
	function stateChangeHandler(state) {
		if (state === mraid.STATES.DEFAULT) {
			document.getElementById("default").style.display = "block";
			document.getElementById("expanded").style.display = "none";
		} else if (state === mraid.STATES.EXPANDED) {
			document.getElementById("default").style.display = "none";
			document.getElementById("expanded").style.display = "block";
		}
	}

	mraid.addEventListener(mraid.EVENTS.STATECHANGE, stateChangeHandler);
	mraid.useCustomClose(true);

	function expand() {
		console.log("expand");
		mraid.expand();
	}

	function collapse() {
		console.log("collapse");
		mraid.close();
	}

	</script>

</body>
</html>
